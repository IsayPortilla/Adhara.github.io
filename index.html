<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Adhara cumple 3 a√±os</title>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #FFE9F4;
            --accent: #FF7CBF;
            --accent2: #FFC3E8;
            --card: #FFF5FA;
            --shadow: 0 10px 25px rgba(8, 30, 50, 0.12);
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%;
            margin: 0;
            font-family: 'Baloo 2', system-ui, Arial;
            background: linear-gradient(180deg, var(--bg), #FFF);
        }

        /* container */
        .wrap {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }

        .card {
            width: 100%;
            max-width: 980px;
            background: var(--card);
            border-radius: 24px;
            box-shadow: var(--shadow);
            overflow: hidden;
            display: grid;
            grid-template-columns: 1fr 1fr;
        }

        /* left: message */
        .left {
            padding: 24px;
        }

        h1 {
            margin: 0;
            font-size: 28px;
            color: #2B4865;
            line-height: 1.2;
        }

        .subtitle {
            margin-top: 6px;
            color: #356B8D;
            font-weight: 700;
            font-size: 14px;
            line-height: 1.3;
        }

        p.lead {
            font-size: 16px;
            color: #3e5f75;
            margin: 18px 0 8px;
            line-height: 1.4;
        }

        .details {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .chip {
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            color: #fff;
            padding: 8px 12px;
            border-radius: 999px;
            font-weight: 700;
            font-size: 14px;
            box-shadow: 0 6px 18px rgba(255, 141, 170, 0.18);
            white-space: nowrap;
        }

        /* RSVP button */
        .rsvp {
            margin-top: 20px;
        }

        .btn {
            display: inline-block;
            padding: 12px 20px;
            border-radius: 14px;
            background: #4A90E2;
            color: white;
            text-decoration: none;
            font-weight: 800;
            font-size: 16px;
            box-shadow: 0 10px 20px rgba(74, 144, 226, 0.2);
            transform: translateY(0);
            transition: transform .18s;
            text-align: center;
            width: 100%;
            border: none;
            cursor: pointer;
        }

        .btn:active {
            transform: translateY(2px);
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: modalAppear 0.3s ease-out;
        }

        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-title {
            font-size: 24px;
            color: #2B4865;
            margin-bottom: 20px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #356B8D;
            font-weight: 700;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #E0E7FF;
            border-radius: 10px;
            font-family: 'Baloo 2', sans-serif;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #4A90E2;
        }

        .form-buttons {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        .btn-confirm {
            background: #6BCB77;
            flex: 2;
        }

        .btn-cancel {
            background: #FF6B6B;
            flex: 1;
        }

        /* right: carousel */
        .right {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.4));
            padding: 16px;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* confetti (simple) */
        .confetti {
            position: absolute;
            inset: 0;
            pointer-events: none;
        }

        .confetti i {
            position: absolute;
            width: 8px;
            height: 12px;
            border-radius: 2px;
            opacity: 0.95;
            transform: translateY(-30vh);
            animation: drop 3s linear infinite;
        }

        .confetti i:nth-child(1) {
            left: 8%;
            background: #FF6B6B;
            animation-delay: 0s;
        }

        .confetti i:nth-child(2) {
            left: 22%;
            background: #FFD93D;
            animation-delay: .2s;
        }

        .confetti i:nth-child(3) {
            left: 35%;
            background: #6BCB77;
            animation-delay: .4s;
        }

        .confetti i:nth-child(4) {
            left: 48%;
            background: #4D96FF;
            animation-delay: .6s;
        }

        .confetti i:nth-child(5) {
            left: 62%;
            background: #FF8DAA;
            animation-delay: .8s;
        }

        .confetti i:nth-child(6) {
            left: 78%;
            background: #B39DDB;
            animation-delay: 1s;
        }

        @keyframes drop {
            0% {
                transform: translateY(-20vh) rotate(0);
            }

            100% {
                transform: translateY(110vh) rotate(360deg);
            }
        }

        /* responsive */
        @media (max-width: 880px) {
            .card {
                grid-template-columns: 1fr;
            }

            .right {
                order: 2;
                padding: 14px;
            }

            .left {
                order: 1;
            }
        }

        /* footer */
        .note {
            margin-top: 18px;
            font-size: 13px;
            color: #7a8b98;
            text-align: center;
        }

        /* Carousel styles */
        .carousel-container {
            width: 100%;
            max-width: 380px;
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .carousel-track {
            display: flex;
            animation: slide 15s infinite;
        }

        .carousel-item {
            min-width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
        }

        .paw-frame {
            border: 8px solid #FF7CBF;
            border-radius: 25px;
            padding: 8px;
            background: #FFF5FA;
            box-shadow: 0 0 20px rgba(255, 126, 191, 0.4);
        }

        .paw-frame img {
            width: 100%;
            max-width: 300px;
            height: 250px;
            object-fit: cover;
            border-radius: 18px;
            display: block;
        }

        @keyframes slide {
            0% {
                transform: translateX(0);
            }

            33% {
                transform: translateX(-100%);
            }

            66% {
                transform: translateX(-200%);
            }

            100% {
                transform: translateX(0);
            }
        }

        /* Balloons */
        .balloons {
            position: absolute;
            left: 18px;
            top: 12px;
            display: flex;
            gap: 8px;
        }

        .balloon {
            width: 34px;
            height: 46px;
            border-radius: 50% 50% 50% 50%;
            background: var(--accent);
            transform-origin: center bottom;
            animation: float 4s ease-in-out infinite;
        }

        .balloon:nth-child(2) {
            background: var(--accent2);
            animation-delay: .5s;
        }

        .balloon:nth-child(3) {
            background: #9AE6B4;
            animation-delay: 1s;
        }

        @keyframes float {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-12px);
            }

            100% {
                transform: translateY(0);
            }
        }

        /* Decorativos adicionales Skye */
        .skye-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .skye-header img {
            width: 180px;
            animation: floatSkye 3.5s ease-in-out infinite;
        }

        @keyframes floatSkye {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-12px);
            }

            100% {
                transform: translateY(0);
            }
        }

        .decor {
            position: absolute;
            pointer-events: none;
            opacity: 0.25;
            font-size: 80px;
            display: none; /* Ocultamos en m√≥vil por defecto */
        }

        .decor.paw1 {
            top: 40px;
            left: 40px;
            transform: rotate(-20deg);
        }

        .decor.paw2 {
            bottom: 40px;
            right: 50px;
            transform: rotate(30deg);
        }

        .decor.heart1 {
            top: 140px;
            right: 30px;
            color: #FF7CBF;
        }

        .decor.heart2 {
            bottom: 140px;
            left: 30px;
            color: #FFC3E8;
        }

        /* Carousel title */
        .carousel-title {
            text-align: center;
            color: #2B4865;
            margin-bottom: 10px;
            font-weight: 700;
            font-size: 22px;
        }

        /* Nota especial */
        .no-rosa {
            margin: 25px auto;
            max-width: 520px;
            text-align: center;
            background: #FFF5FA;
            padding: 18px 22px;
            border-radius: 22px;
            border: 4px solid var(--accent);
            box-shadow: 0 0 16px rgba(255, 124, 191, 0.35);
            animation: pulse-glow 2s infinite alternate;
        }

        @keyframes pulse-glow {
            0% {
                box-shadow: 0 0 16px rgba(255, 124, 191, 0.35);
            }

            100% {
                box-shadow: 0 0 24px rgba(255, 124, 191, 0.5);
            }
        }

        /* Mejoras espec√≠ficas para m√≥viles */
        @media (max-width: 480px) {
            .wrap {
                padding: 12px;
            }
            
            .card {
                border-radius: 16px;
            }
            
            .left {
                padding: 20px 16px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .subtitle {
                font-size: 13px;
            }
            
            p.lead {
                font-size: 15px;
            }
            
            .details {
                gap: 6px;
            }
            
            .chip {
                padding: 6px 10px;
                font-size: 12px;
            }
            
            .no-rosa {
                padding: 14px 16px;
                margin: 20px auto;
            }
            
            .no-rosa p:first-child {
                font-size: 18px !important;
            }
            
            .no-rosa p:last-child {
                font-size: 15px !important;
            }
            
            .btn {
                font-size: 15px;
                padding: 10px 16px;
            }
            
            .right {
                padding: 12px;
            }
            
            .carousel-container {
                margin: 15px auto;
                max-width: 320px;
            }
            
            .paw-frame img {
                height: 200px;
            }
            
            .carousel-title {
                font-size: 18px;
            }
            
            .balloons {
                left: 12px;
                top: 8px;
            }
            
            .balloon {
                width: 28px;
                height: 38px;
            }
        }

        @media (min-width: 768px) {
            .decor {
                display: block; /* Mostramos decoraciones en pantallas m√°s grandes */
            }
        }
    </style>
</head>

<body>
    <div class="decor paw1">üêæ</div>
    <div class="decor paw2">üêæ</div>
    <div class="decor heart1">üíï</div>
    <div class="decor heart2">üíó</div>

    <!-- Modal para confirmaci√≥n -->
    <div class="modal-overlay" id="confirmationModal">
        <div class="modal-content">
            <h2 class="modal-title">üêæ Confirmar Asistencia üêæ</h2>
            <form id="confirmationForm">
                <div class="form-group">
                    <label for="nombre">Nombre completo:</label>
                    <input type="text" id="nombre" name="nombre" required>
                </div>
                
                <div class="form-group">
                    <label for="telefono">Tel√©fono:</label>
                    <input type="tel" id="telefono" name="telefono" required>
                </div>
                
                <div class="form-group">
                    <label for="invitados">N√∫mero de invitados:</label>
                    <select id="invitados" name="invitados" required>
                        <option value="1">1 persona</option>
                        <option value="2" selected>2 personas</option>
                        <option value="3">3 personas</option>
                        <option value="4">4 personas</option>
                        <option value="5">5 personas</option>
                        <option value="6+">6 o m√°s personas</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="mensaje">Mensaje especial (opcional):</label>
                    <input type="text" id="mensaje" name="mensaje" placeholder="Ej: ¬°No puedo esperar para la fiesta!">
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="btn btn-confirm">Confirmar Asistencia</button>
                    <button type="button" class="btn btn-cancel" onclick="closeModal()">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <div class="wrap">
        <section class="card">
            <div class="left">
                <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
                    
                    <div>
                        <img src="SKYE.jpg"
                        alt="paw" width="120" height="120">
                        <h1>¬°Adhara cumple 3 a√±os con Skye!</h1>
                        <div class="subtitle">Con la participaci√≥n especial de todos los cachorros de Paw Patrol
                            ¬°No faltes! ¬°La misi√≥n del cumplea√±os necesita tu ayuda!üéâ</div>
                    </div>
                </div>

                <p class="lead">Est√°s invitado a una tarde llena de juegos, risas y aventuras con los personajes
                    favoritos de Adhara.</p>

                <div class="details">
                    <div class="chip">üìÖ Domingo, 21 de diciembre</div>
                    <div class="chip">‚è∞ 2:00 PM</div>
                    <div class="chip"><a href="https://maps.app.goo.gl/98PX3heHxoWJKDad6?g_st=aw" style="color:white;text-decoration:none;">üìçMOA</a></div>
                </div>

                <!-- Nota Especial para los Invitados -->
                <div class="no-rosa">
                    <p style="font-size:22px; font-weight:800; color:#D41B8C; margin-bottom:6px;">
                        üêæ Nota Especial para los Invitados üêæ
                    </p>
                    <p style="font-size:18px; color:#A00072; line-height:1.4;">
                        En esta misi√≥n tan especial de Skye,<br>
                        te pedimos venir con <strong>ropa de cualquier color excepto rosa</strong> üíñ‚ú®<br>
                        ¬°As√≠ nuestra cumplea√±era Adhara brillar√° como la verdadera protagonista!
                    </p>
                </div>

                <div class="rsvp">
                    <button class="btn" id="rsvpBtn">¬°Confirmar asistencia!</button>
                </div>

                <p class="note">Trae tu mejor sonrisa.</p>

            </div>

            <div class="right">
                <div class="balloons">
                    <div class="balloon"></div>
                    <div class="balloon"></div>
                    <div class="balloon"></div>
                </div>

                <div class="carousel-title">¬°Aventuras con Skye!</div>

                <div class="carousel-container">
                    <div class="carousel-track">
                        <div class="carousel-item">
                            <div class="paw-frame">
                                <img src="Adhara.jpeg" alt="Skye">
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="paw-frame">
                                <img src="Adhara2.jpeg" alt="Skye">
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="paw-frame">
                                <img src="Adhara3.jpeg" alt="Skye">
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="paw-frame">
                                <img src="ADHARA4.jpeg" alt="Skye">
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="paw-frame">
                                <img src="ADHARA5.jpeg" alt="Skye">
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="paw-frame">
                                <img src="ADHARA6.jpeg" alt="Skye">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="confetti" aria-hidden="true">
                    <i></i><i></i><i></i><i></i><i></i><i></i>
                </div>

            </div>
        </section>
    </div>

    <script>
        // Elementos del DOM
        const rsvpBtn = document.getElementById('rsvpBtn');
        const modal = document.getElementById('confirmationModal');
        const form = document.getElementById('confirmationForm');

        // Funci√≥n para abrir el modal
        rsvpBtn.addEventListener('click', function() {
            modal.style.display = 'flex';
        });

        // Funci√≥n para cerrar el modal
        function closeModal() {
            modal.style.display = 'none';
            form.reset();
        }

        // Funci√≥n para generar y descargar el archivo TXT
        function generateTXTFile(data) {
            const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
            const filename = `confirmacion_${data.nombre.replace(/\s+/g, '_')}_${timestamp}.txt`;
            
            let content = `CONFIRMACI√ìN DE ASISTENCIA - CUMPLEA√ëOS DE ADHARA\n`;
            content += `===================================================\n\n`;
            content += `Fecha de confirmaci√≥n: ${new Date().toLocaleString('es-ES')}\n`;
            content += `Nombre: ${data.nombre}\n`;
            content += `Tel√©fono: ${data.telefono}\n`;
            content += `N√∫mero de invitados: ${data.invitados}\n`;
            content += `Mensaje: ${data.mensaje || 'Sin mensaje adicional'}\n\n`;
            content += `Detalles del evento:\n`;
            content += `- Fecha: Domingo, 21 de diciembre\n`;
            content += `- Hora: 2:00 PM\n`;
            content += `- Lugar: MOA\n\n`;
            content += `Nota: Recuerda vestir con cualquier color excepto rosa.\n`;
            content += `¬°Gracias por confirmar! üéâ\n`;

            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        // Funci√≥n para guardar en localStorage
        function saveToLocalStorage(data) {
            try {
                // Obtener confirmaciones existentes
                let confirmaciones = JSON.parse(localStorage.getItem('confirmacionesCumpleAdhara')) || [];
                
                // Agregar nueva confirmaci√≥n
                const nuevaConfirmacion = {
                    ...data,
                    fechaConfirmacion: new Date().toISOString(),
                    id: Date.now()
                };
                
                confirmaciones.push(nuevaConfirmacion);
                
                // Guardar en localStorage
                localStorage.setItem('confirmacionesCumpleAdhara', JSON.stringify(confirmaciones));
                
                console.log('Confirmaci√≥n guardada en localStorage:', nuevaConfirmacion);
                
                // Tambi√©n guardar en archivo maestro
                updateMasterFile(confirmaciones);
                
            } catch (error) {
                console.error('Error al guardar en localStorage:', error);
            }
        }

        // Funci√≥n para actualizar el archivo maestro
        function updateMasterFile(confirmaciones) {
            let masterContent = `LISTA MAESTRA DE CONFIRMACIONES - CUMPLEA√ëOS ADHARA 3 A√ëOS\n`;
            masterContent += `=============================================================\n\n`;
            masterContent += `Total de confirmaciones: ${confirmaciones.length}\n`;
            masterContent += `Fecha de actualizaci√≥n: ${new Date().toLocaleString('es-ES')}\n\n`;
            
            confirmaciones.forEach((conf, index) => {
                masterContent += `CONFIRMACI√ìN ${index + 1}:\n`;
                masterContent += `-------------------\n`;
                masterContent += `Nombre: ${conf.nombre}\n`;
                masterContent += `Tel√©fono: ${conf.telefono}\n`;
                masterContent += `Invitados: ${conf.invitados}\n`;
                masterContent += `Mensaje: ${conf.mensaje || 'Sin mensaje'}\n`;
                masterContent += `Fecha de confirmaci√≥n: ${new Date(conf.fechaConfirmacion).toLocaleString('es-ES')}\n`;
                masterContent += `ID: ${conf.id}\n\n`;
            });
            
            const blob = new Blob([masterContent], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'lista_confirmaciones_adhara.txt';
            link.style.display = 'none';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        // Funci√≥n para enviar por WhatsApp
        function sendWhatsApp(data) {
            const phoneNumber = "5569881463"; // REEMPLAZA CON TU N√öMERO (formato internacional sin +)
            
            // Crear mensaje para WhatsApp
            let message = `üéâ *CONFIRMACI√ìN DE ASISTENCIA* üéâ\n\n`;
            message += `*Nombre:* ${data.nombre}\n`;
            message += `*Tel√©fono:* ${data.telefono}\n`;
            message += `*Invitados:* ${data.invitados}\n`;
            message += `*Mensaje:* ${data.mensaje || 'Sin mensaje adicional'}\n\n`;
            message += `_Confirmado el: ${new Date().toLocaleString('es-ES')}_\n\n`;
            message += `¬°Gracias por confirmar! üêæ`;
            
            // Codificar el mensaje para URL
            const encodedMessage = encodeURIComponent(message);
            
            // Crear enlace de WhatsApp
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
            
            // Abrir WhatsApp en una nueva ventana
            window.open(whatsappURL, '_blank');
        }

        // Manejar el env√≠o del formulario
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Obtener datos del formulario
            const formData = {
                nombre: document.getElementById('nombre').value.trim(),
                telefono: document.getElementById('telefono').value.trim(),
                invitados: document.getElementById('invitados').value,
                mensaje: document.getElementById('mensaje').value.trim()
            };
            
            // Validaciones b√°sicas
            if (!formData.nombre || !formData.telefono) {
                alert('Por favor, completa los campos obligatorios.');
                return;
            }
            
            // Mostrar mensaje de confirmaci√≥n
            alert(`¬°Gracias ${formData.nombre}! Tu confirmaci√≥n ha sido registrada.`);
            
            // 1. Generar y descargar archivo TXT individual
            generateTXTFile(formData);
            
            // 2. Guardar en localStorage y generar archivo maestro
            saveToLocalStorage(formData);
            
            // 3. Abrir WhatsApp para enviar confirmaci√≥n
            sendWhatsApp(formData);
            
            // Cerrar modal y resetear formulario
            closeModal();
            
            // Agregar confeti adicional por confirmaci√≥n
            triggerConfetti();
        });

        // Funci√≥n para mostrar confeti adicional
        function triggerConfetti() {
            const confettiContainer = document.querySelector('.confetti');
            const colors = ['#FF6B6B', '#FFD93D', '#6BCB77', '#4D96FF', '#FF8DAA', '#B39DDB'];
            
            for (let i = 0; i < 15; i++) {
                const confetti = document.createElement('i');
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animation = `drop ${1 + Math.random() * 2}s linear forwards`;
                confettiContainer.appendChild(confetti);
                
                // Remover despu√©s de la animaci√≥n
                setTimeout(() => {
                    confetti.remove();
                }, 3000);
            }
        }

        // Cerrar modal al hacer clic fuera de √©l
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeModal();
            }
        });

        // Cerrar modal con tecla Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal.style.display === 'flex') {
                closeModal();
            }
        });

        // Bot√≥n para descargar lista completa (solo para organizador)
        // Este bot√≥n se puede agregar manualmente si es necesario
        function downloadFullList() {
            const confirmaciones = JSON.parse(localStorage.getItem('confirmacionesCumpleAdhara')) || [];
            if (confirmaciones.length === 0) {
                alert('No hay confirmaciones registradas.');
                return;
            }
            updateMasterFile(confirmaciones);
        }

        // Para agregar un bot√≥n secreto para descargar la lista completa:
        // Agrega esto en el HTML si lo necesitas:
        // <button onclick="downloadFullList()" style="position: fixed; bottom: 10px; right: 10px; z-index: 1000; padding: 5px 10px; background: #333; color: white; border: none; border-radius: 5px; font-size: 12px;">Descargar Lista</button>
    </script>

</body>

</html>